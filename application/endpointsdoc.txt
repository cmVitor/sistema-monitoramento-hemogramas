1. Health Check
Endpoint: GET /health
Descrição: Este endpoint é utilizado para verificar se a API está funcionando corretamente. Ele retorna um status simples indicando que o sistema está operacional.

2. Receber Observações
Endpoint: POST /observations
Descrição: Este endpoint recebe dados de hemogramas no formato FHIR Observation. Quando uma observação é enviada, o sistema:
Extrai o código IBGE da região a partir dos dados da observação.
Calcula o número de leucócitos, se disponível.
Anonimiza os dados para remover informações pessoais identificáveis (PII), como CPF ou nomes.
Armazena a observação no banco de dados.
Avalia se a observação contribui para um possível surto na região e, se os critérios forem atendidos, gera um alerta.

3. Listar Alertas
Endpoint: GET /alerts
Descrição: Este endpoint retorna uma lista de alertas gerados pelo sistema. Cada alerta contém:
Código IBGE da região afetada.
Um resumo estatístico básico sobre o surto potencial.
Um recurso FHIR Communication com detalhes do alerta, incluindo uma recomendação genérica para investigação local e aumento de testes sorológicos.

Lógica de Detecção de Surto
Critérios:
Leucócitos Elevados: Mais de 40% das observações na última semana têm leucócitos acima de 11.000 células/uL.
Aumento de Casos: Um aumento de mais de 20% nos casos nas últimas 24 horas, comparado com as 24 horas anteriores, agrupados por código IBGE da região.

Anonimização de Dados
Descrição: Antes de armazenar as observações, o sistema remove ou oculta informações pessoais, como identificadores que parecem CPF ou nomes, para proteger a privacidade dos indivíduos.

Geração de Alertas
Descrição: Quando os critérios de surto são atendidos, o sistema gera um alerta no formato FHIR Communication. Este alerta inclui informações sobre a região, estatísticas do surto e uma recomendação para ações locais.

